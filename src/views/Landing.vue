<template>
    <section>

        <div class="position-relative">
            <!-- shape Hero -->
            <!-- <div class="blurred-image"></div> -->
            <section class="mt--300 d-lg-none"></section>
            <section class="section home-content section-lg section-hero">

                <div class="container shape-container py-md">
                    <div class="col px-0">
                        <div class="my-0 py-1 d-sm-nones"></div>
                        <div class="mt--300 d-lg-nones"></div>
                        <div class="justify-content-between align-items-center">
                            <div class="col-lg-11">
                                <h5
                                    class="display-4 text-left text-white"
                                    style="display: inline-block; float: center"
                                >Grow your sales pipeline using a corporate company profile
                                    <!-- <span style="font-size: 0.5em">Your creative tasks sorted</span> -->
                                </h5>
                                <p class="justify-content-between text-white text-left pt-2">
                                    <span class="lead">Get <span
                                            class="next"
                                            data-period="2000"
                                            data-type='[ "a new company profile", "a redesign of your profile", "authoritative industry content" ]'
                                        >your corporate company profile</span> <span class="d-lg-nones"><br></span>done at a reasonable cost!

                                        <span
                                            class="description d-sm-nones"
                                            style="font-size: 1rem"
                                        ><br>Want a professional looking profile that will enable you get introductions, meetings and close sales even faster?</span></span>
                                    <span class="text-left d-sm-nones">
                                        <ul
                                            class="py-1 px-3"
                                            style="list-style: tick"
                                        >
                                            <li>Get quicker connections</li>
                                            <li>Increase your conversion rate for clients</li>
                                            <li>Showcase the capability of your company</li>
                                        </ul>
                                    </span>
                                </p>

                                <div class="btn-wrapper justify-content-center">
                                    <a
                                        href="#request"
                                        data-toggle="scroll"
                                    >
                                        <base-button
                                            class="btn btn-md btn-success btn-icon mb-3 mb-sm-0"
                                            type="info"
                                            icon="fa fa-cloud-download"
                                        >
                                            Begin Request
                                        </base-button>
                                    </a><span stye="color: transparent">.</span>
                                    <a
                                        href="#about"
                                        data-toggle="scroll"
                                        class="btn btn-md btn-white btn-icon mb-3 mb-sm-0"
                                    >
                                        <span class="btn-inner--icon"><i class="ni ni-eye"></i></span>
                                        <span class="btn-inner--text">Learn More</span>
                                    </a>
                                </div>
                            </div>

                        </div>

                        <div class="">
                            <p><br>
                            </p>
                        </div>

                    </div>
                </div>
            </section>
        </div>
        <section
            class="section section-shaped my-4 mb-2 "
            style="background: white; color: black"
            id="about"
        >
            <div class="container pb-100">
                <div class="row text-center justify-content-center">
                    <div class="col-lg-10">
                        <h2 class="display-3 text-default">Build Your Sales Pipeline Faster</h2>
                        <p class="lead text-default">According to the experts, a company profile can shape the decision of a potential client. Here is what a proper company profile can do for you.</p>
                    </div>
                </div>
                <div class="row row-grid mt-5">
                    <div class="col-lg-4">
                        <div class="icon icon-lg icon-shape bg-gradient-white shadow rounded-circle text-primary">
                            <i class="ni ni-satisfied text-primary"></i>
                        </div>
                        <h5 class="text-default mt-3">Secure More Meetings</h5>
                        <p class="text-default mt-3">Highlight your services and client testimonials on your profile to convince potential clients looking for your services and lead to more referrals.</p>
                    </div>
                    <div class="col-lg-4">
                        <div class="icon icon-lg icon-shape bg-gradient-white shadow rounded-circle text-primary">
                            <i class="ni ni-ruler-pencil text-primary"></i>
                        </div>
                        <h5 class="text-default mt-3">Establish Credibility</h5>
                        <p class="text-default mt-3">Let your portfolio of previous work give you an edge over competitors to close that deal and build a credible background for your business.</p>
                    </div>
                    <div class="col-lg-4">
                        <div class="icon icon-lg icon-shape bg-gradient-white shadow rounded-circle text-primary">
                            <i class="ni ni-book-bookmark text-primary"></i>
                        </div>
                        <h5 class="text-default mt-3">Use Local Business Intelligence</h5>
                        <p class="text-default mt-3">Grow your market share with our local business intelligence. We use research reports and analysis to give you an in-depth knowledge about your industry.</p>
                    </div>
                </div>

            </div>
        </section>

        <section class="section section-shaped mt--100 mb-2 bg-default ">
            <div class="container mt-2">
                <div class="row row-grid align-items-center">
                    <div class="col-md-4 order-md-2">
                        <img
                            src="https://socialmedia.onesha.co.ke/assets/img/theme/promo-1.png"
                            class="img-fluid floating"
                        >
                    </div>
                    <div class="col-md-8 order-md-1">
                        <div class="pr-md-5 text-white">

                            <h3 class=" text-success">Who needs a company profile?</h3>
                            <p class="">Your company profile is a professional introduction and aims to inform people (primarily prospective buyers and stakeholders) about your products,
                                services, and current status. Your company profile is a key component in your marketing strategy.</p>
                            <ul class="list-unstyled mt-2 text-success">
                                <li class="py-2">
                                    <div class="d-flex align-items-center">
                                        <div>
                                            <div class="badge badge-circle badge-white mr-3">
                                                <i class="ni ni-album-2"></i>
                                            </div>
                                        </div>
                                        <div>
                                            <h6 class="mb-0 text-white">Photographers and designers ready to show their portfolio</h6>
                                        </div>
                                    </div>
                                </li>
                                <li class="py-2">
                                    <div class="d-flex align-items-center">
                                        <div>
                                            <div class="badge badge-circle badge-white mr-3">
                                                <i class="ni ni-laptop"></i>
                                            </div>
                                        </div>
                                        <div>
                                            <h6 class="mb-0 text-white">A tech startup pitching their solutions</h6>
                                        </div>
                                    </div>
                                </li>
                                <li class="py-2">
                                    <div class="d-flex align-items-center">
                                        <div>
                                            <div class="badge badge-circle badge-white mr-3">
                                                <i class="ni ni-paper-diploma"></i>
                                            </div>
                                        </div>
                                        <div>
                                            <h6 class="mb-0 text-white">A business organization looking to apply for a tender</h6>
                                        </div>
                                    </div>
                                </li>
                                <li class="py-2">
                                    <div class="d-flex align-items-center">
                                        <div>
                                            <div class="badge badge-circle badge-white mr-3">
                                                <i class="ni ni-cart"></i>
                                            </div>
                                        </div>
                                        <div>
                                            <h6 class="mb-0 text-white">Suppliers looking to deliver their goods to new customers</h6>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-shaped  mt-2 mb-2  ">
            <div class="container mt-2 mb-2">
                <div class="justify-content-between align-items-center mt-4">
                    <transition
                        name="component-fade"
                        mode="out-in"
                    >
                        <div>
                            <br>
                            <h3>What can we offer?</h3>
                            <p>We give you a professional looking company profile that will enable you get introductions,
                                meetings and close sales even faster. Our quick online service simplifies the process of looking for a place to get your company profile made.
                                Get high quality services from our vetted creatives with quick delivery to fit your schedule. <br><br>Simply choose a category, fill a simple job template, get your task done!</p>

                            <categories></categories>
                        </div>
                    </transition>
                </div>
            </div>
        </section>

        <section></section>

        <section
            class="section section-lg pt-lg-2 mt-200 bg-gradient-info"
            id="request"
        >
            <div class="container pt-lg">
                <div class="row text-center justify-content-center">
                    <div class="col-lg-10">
                        <h2 class="display-3 text-white">Begin your request</h2>
                        <p class="lead text-white">Your journey starts here. Revamp your existing company profile, or get a new one.</p>
                    </div>
                </div>
                <JobCategories :categories="categories"></JobCategories>
            </div>
        </section>
        <section
            class="section section-sm bg-secondary mt-200  bg-secondary"
            id="process"
        >
            <div class="container">
                <div class="row justify-content-center text-center">
                    <div class="mt-5 mb-lg-3 col-md-12">
                        <h2 class="">Our Process</h2>
                        <p class="lead mt-4">We follow this process to ensure you quality.</p>

                    </div>
                    <div class="col-lg-12">
                        <div class="row row-grid">
                            <div class="col-lg-3">
                                <card
                                    class="border-0"
                                    hover
                                    shadow
                                    body-classes="py-5"
                                >
                                    <icon
                                        name="ni ni-bullet-list-67"
                                        type="success"
                                        rounded
                                        class="mb-4"
                                    >
                                    </icon>
                                    <h6 class="text-success text-uppercase">Request a Service</h6>
                                    <p class="description mt-3">Onesha helps you flesh out your request using easy to use job templates that make filling forms a simple process.</p>

                                    <base-button
                                        tag="a"
                                        href="#request"
                                        data-toggle="scroll"
                                        type="success"
                                        class="mt-4"
                                    >
                                        BEGIN REQUEST
                                    </base-button>
                                </card>
                            </div>
                            <div class="col-lg-3">
                                <card
                                    class="border-0"
                                    hover
                                    shadow
                                    body-classes="py-5"
                                >
                                    <icon
                                        name="ni ni-settings-gear-65"
                                        type="primary"
                                        rounded
                                        class="mb-4"
                                    >
                                    </icon>
                                    <h6 class="text-primary text-uppercase">Brief Processing</h6>
                                    <p class="description mt-3">Onesha processes your request into a job brief that we present to vetted creatives for quotation.<br><br> You then selected and approve the quote.</p>
                                    <br>
                                    <!-- <base-button tag="a"  href="#request" data-toggle="scroll" type="primary" class="mt-4">-->
                                </card>
                            </div>
                            <div class="col-lg-3">
                                <div class="card border-0 card-lift--hover shadow">
                                    <!---->
                                    <div class="card-body py-5">
                                        <div class="icon icon-shape mb-4 icon-shape-primary rounded-circle"><i class="ni ni-settings"></i></div>
                                        <h6 class="text-primary text-uppercase">Job Execution</h6>
                                        <p class="description mt-3">We start working on your job according to the brief. We send you samples for your approval.<br><br> You will then make a deposit to continue.</p><br>
                                    </div>
                                    <!---->
                                    <!---->
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="card border-0 card-lift--hover shadow">
                                    <!---->
                                    <div class="card-body py-5">
                                        <div class="icon icon-shape mb-4 icon-shape-primary rounded-circle"><i class="ni ni-check-bold"></i></div>
                                        <h6 class="text-primary text-uppercase">Job Delivery</h6>
                                        <p class="description mt-3">You receive the final samples and complete the payment upon being satisfied with the result.<br><br> You can choose your mode of delivery.</p><br>
                                    </div>
                                    <!---->
                                    <!---->
                                </div>
                            </div>
                        </div>
                        <div class="row justify-content-center text-center">
                            <div class="mt-5 mb-lg-3 col-md-12">
                                <h2 class=""><a
                                        href="/support"
                                        class="btn btn-info"
                                    >REVIEW OUR GUIDELINES</a></h2>
                            </div>
                        </div>
                    </div>
                </div>
                <hr style="border:white">
            </div>
        </section>

        <section
            class="section section-lg bg-gradient-info"
            id="creatives"
        >
            <div class="container">
                <div class="row row-grid align-items-center">

                </div>
                <div class="row">
                    <div class="col-lg-7 order-lg-1">
                        <div class="d-flex px-3">
                            <div>
                                <div class="icon icon-lg icon-shape bg-gradient-white shadow rounded-circle text-primary">
                                    <i class="ni ni-building text-primary"></i>
                                </div>
                            </div>
                            <div class="pl-4 text-white">
                                <h4 class="display-3 text-white">Why Choose Us?</h4>
                                <p class="">Here is why we are your best choice for this service </p>
                            </div>
                        </div>
                        <div class="card shadow shadow-lg--hover mt-3">
                            <div class="card-body crd">
                                <div class="d-flex px-3 mt-3">
                                    <div>
                                        <div class="icon icon-shape bg-gradient-success rounded-circle text-white">
                                            <i class="ni ni-delivery-fast"></i>
                                        </div>
                                    </div>
                                    <div class="pl-4">
                                        <h5 class="title text-success">Speed of Delivery</h5>
                                        <p>With our wide pool of high quality, experienced creatives, we assure you of a quick turn around time that will meet your requirements.</p>

                                    </div>
                                </div>
                            </div>
                            <div class="card-body crd">
                                <div class="d-flex px-3 mt-0">
                                    <div>
                                        <div class="icon icon-shape bg-gradient-success rounded-circle text-white">
                                            <i class="ni ni-chat-round"></i>
                                        </div>
                                    </div>
                                    <div class="pl-4">
                                        <h5 class="title text-success">Request changes before accepting</h5>
                                        <p>Receive 2 samples work, review upto 3 times. We ensure you get the quality you are looking for.</p>

                                    </div>
                                </div>
                            </div>
                            <div class="card-body crd">
                                <div class="d-flex px-3">
                                    <div>
                                        <div class="icon icon-shape bg-gradient-success rounded-circle text-white">
                                            <i class="ni ni-album-2"></i>
                                        </div>
                                    </div>
                                    <div class="pl-4">
                                        <h5 class="title text-success">Local stock photos and business intelligence</h5>
                                        <p>We will provide stock photography and use our research to keep your content accurate and relevant to your industry to help you reach your objectives.</p>

                                    </div>
                                </div>
                            </div>
                            <div class="card-body crd">
                                <div class="d-flex px-3">
                                    <div>
                                        <div class="icon icon-shape bg-gradient-success rounded-circle text-white">
                                            <i class="ni ni-check-bold"></i>
                                        </div>
                                    </div>
                                    <div class="pl-4">
                                        <h5 class="title text-success">We control the process</h5>
                                        <p>Save time taken to compare creative professionals as we choose the right one for the job. We also do project management to reduce the hassle.</p>

                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-4 order-lg-2 ml-lg-auto">
                        <div class="mt-2 pl-md-5 pt-5 text-white">
                            <img
                                src="https://socialmedia.onesha.co.ke/assets/img/ill/ill-2.svg"
                                class="img-center img-fluid"
                            />
                            <br>
                            <hr><br>
                            <p>Get a professional looking company profile that will enable you get introductions, meetings and close sales even faster. Delivered when you want it.</p>
                            <a
                                @click="showSampleModal()"
                                class="btn btn-success"
                            >REQUEST A SAMPLE</a>
                        </div>
                    </div>
                </div>
            </div>
            <modal :show.sync="showModal">
                <template slot="header">
                </template>
                <div class="modal-body">
                    <div class="my-2">

                        <h5
                            class="modal-title"
                            id="templateModalTitle"
                        >Enter your details to receive a sample Corporate company profile</h5>
                        <hr>
                        <div class="form-group">
                            <div class="input-group input-group-alternative mb-4">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="ni ni-box-2"></i></span>
                                </div>
                                <input
                                    type="text"
                                    name="clientName"
                                    class="form-control"
                                    placeholder="Your name"
                                >
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="input-group input-group-alternative mb-4">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="ni ni-email-83"></i></span>
                                </div>
                                <input
                                    type="email"
                                    name="clientEmail"
                                    class="form-control"
                                    placeholder="Your email address, e.g. someone@example.com"
                                >
                            </div>
                        </div>
                    </div>
                </div>
                <template slot="footer">
                    <span>
                        <button
                            class="btn btn-success"
                            @click=""
                        >Submit</button>
                    </span>
                </template>
            </modal>

        </section>

        <section
            id="clients"
            class="section section-lg pt-lg-0 mt-200 bg-secondary mb-0 "
        >
            <div class="container">
                <div class="row justify-content-center mt-200">
                    <div class="mt-5">
                        <h2 class="text-default font-weight-light">We have worked with</h2>
                    </div>
                </div>
                <div
                    class="row row-grid mt-5"
                    style="width:120%"
                >
                    <div class="col-sm-1"><img
                            class="img-circle img-back"
                            style="background: url('/assets/img/clients/pangea.jpg');"
                        ></div>
                    <div class="col-sm-1"><img
                            class="img-circle img-back"
                            style="background: url('/assets/img/clients/eo.jpg');"
                        ></div>
                    <div class="col-sm-1"><img
                            class="img-circle img-back"
                            style="background: url('/assets/img/clients/weston.png');"
                        ></div>
                    <div class="col-sm-1"><img
                            class="img-circle img-back"
                            style="background: url('/assets/img/clients/bdo.png');"
                        ></div>
                    <div class="col-sm-1"><img
                            class="img-circle img-back"
                            style="background: url('/assets/img/clients/uber.jpg');"
                        ></div>
                    <div class="col-sm-1"><img
                            class="img-circle img-back"
                            style="background: url('/assets/img/clients/flexpay.jpeg');"
                        ></div>
                    <div class="col-sm-1"><img
                            class="img-circle img-back"
                            style="background: url('/assets/img/clients/imagine.jpg');"
                        ></div>
                    <div class="col-sm-1"><img
                            class="img-circle img-back"
                            style="background: url('/assets/img/clients/taraji.jpg');"
                        ></div>
                    <div class="col-sm-1"><img
                            class="img-circle img-back"
                            style="background: url('/assets/img/clients/gig.jpeg');"
                        ></div>
                    <div class="col-sm-1"><img
                            class="img-circle img-back"
                            style="background: url('/assets/img/clients/lexy.jpeg');"
                        ></div>
                </div>
            </div>
        </section>

        <section class="section section-lg pt-lg-2 mt-100 bg-gradient-info section-contact-us">
            <div class="container pt-lg">
                <div class="pb-lg-4">
                    <h4 class="mb-1 text-center text-white">Want to work with us?</h4>
                </div>
                <div class="row justify-content-center pb-lg-2">
                    <div class="col-lg-8">
                        <card
                            gradient="secondary"
                            shadow
                            body-classes="p-lg-5"
                        >

                            <p class="mt-0">Your project is very important to us. Describe what you want done.</p>
                            <base-input
                                class="mt-5"
                                alternative
                                placeholder="Your name"
                                addon-left-icon="ni ni-user-run"
                            >
                            </base-input>
                            <base-input
                                alternative
                                placeholder="Email address"
                                addon-left-icon="ni ni-email-83"
                            >
                            </base-input>
                            <base-input
                                alternative
                                placeholder="Location"
                                addon-left-icon="ni ni-pin-3"
                            >
                            </base-input>
                            <base-input class="mb-4">
                                <textarea
                                    class="form-control form-control-alternative"
                                    name="name"
                                    rows="4"
                                    cols="80"
                                    placeholder="What do you need done?..."
                                ></textarea>
                            </base-input>
                            <base-button
                                type="default"
                                round
                                block
                                size="lg"
                            >
                                Send Request
                            </base-button>
                        </card>
                    </div>
                </div>
            </div>

        </section>
    </section>

</template>

<script>
import Categories from "./components/Categories/AllCategories";
import JobCategories from "./components/Categories/Category";
import Modal from "@/views/components/Common/Modal.vue";
import Axios from "axios";

let show = true;

export default {
    name: "home",
    components: {
        Categories,
        JobCategories,
        Modal
    },
    data() {
        return {
            selectedAnimationIn: "",
            selectedAnimationOut: "",
            showModal: false,
            show: true,
            request: true,
            get: true,
            view: true,
            learn: true,
            categories: null,
            businessprofiles: null
        };
    },

    methods: {
        pressed: function() {
            show = !show;
            // var area = document.getElementById("actions");
            // area.innerHTML = Categories;
        },
        enter: function(el) {
            el.classList.add("animated");
            el.classList.add(this.selectedAnimationIn);
        },
        leave: function(area) {
            el.classList.add("animated");
            el.classList.add(this.selectedAnimationOut);
        },
        /**
         * Load available categories from server
         */
        loadCategories() {
            try {
                //display loader
                console.log("now fetching jobtypes");
                var progressloader = document.getElementsByClassName(
                    "progressloader"
                );
                progressloader.innerHTML = "<h3>Fetching data</h3>";
                Axios.get("/api/data/categories").then(res => {
                    //hide loader
                    console.log("displaying jobtypes");
                    progressloader.innerHTML = "";
                    return (this.categories = res.data);
                });
            } catch (err) {
                console.log(err);
            }
        },
        async loadBusinessProfiles() {
            try {
                return await Axios.get("/api/data/business-profiles").then(
                    res => res.data
                );
            } catch (err) {
                // console.log(err)
            }
        },
        showSampleModal() {
            this.showModal = true;
        },
        submitSampleRequest() {}
    },
    beforeRouteEnter(to, from, next) {
        next(vm => {
            vm.loadCategories();
            next();
        });
    }
};

var TxtType = function(els, toRotate, period) {
    this.toRotate = toRotate;
    this.el = els;
    this.loopNum = 0;
    this.period = parseInt(period, 10) || 2000;
    this.txt = "";
    this.tick();
    this.isDeleting = false;
};

TxtType.prototype.tick = function() {
    var i = this.loopNum % this.toRotate.length;
    var fullTxt = this.toRotate[i];

    if (this.isDeleting) {
        this.txt = fullTxt.substring(0, this.txt.length - 1);
    } else {
        this.txt = fullTxt.substring(0, this.txt.length + 1);
    }

    this.el.innerHTML = this.txt;

    var that = this;
    var delta = 200 - Math.random() * 100;

    if (this.isDeleting) {
        delta /= 2;
    }

    if (!this.isDeleting && this.txt === fullTxt) {
        delta = this.period;
        this.isDeleting = true;
    } else if (this.isDeleting && this.txt === "") {
        this.isDeleting = false;
        this.loopNum++;
        delta = 500;
    }

    setTimeout(function() {
        that.tick();
    }, delta);
};

window.onload = function() {
    var elements = document.getElementsByClassName("next");
    for (var i = 0; i < elements.length; i++) {
        var toRotate = elements[i].getAttribute("data-type");
        var period = elements[i].getAttribute("data-period");
        if (toRotate) {
            new TxtType(elements[i], JSON.parse(toRotate), period);
        }
    }
    // INJECT CSS
    var css = document.createElement("style");
    css.type = "text/css";
    css.innerHTML = ".next { border-right: .05em solid rgb(102, 88, 61)}";
    document.body.appendChild(css);
};
</script>
<style>
.display-3 span {
    display: inline-flex !important;
}
.position-relative {
    position: relative;
    background-image: none;
    background-image: url("/assets/img/social-audit.jpg");
    background-size: cover;
    background-position: right;
    background-repeat: no-repeat;
    height: 100vh !important;
}
.home-content {
    background-color: rgba(0, 0, 34, 0.7);
    z-index: 9;
    position: absolute;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
}
.next {
    overflow: hidden; /* Ensures the content is not revealed until the animation */
    border-right: 0.05em solid rgb(102, 88, 61); /* The typwriter cursor */
    white-space: nowrap; /* Keeps the content on a single line */
    margin: 0 auto; /* Gives that scrolling effect as the typing happens */
    margin-right: 2px;
    color: #22cdef;
    letter-spacing: 0.02em; /*Adjust as needed*/
    animation: 
				        /* typing 1.5s steps(40, end),
				        blink-caret .2s step-end infinite; */ typing
            1s steps(40) 1s 1 normal both,
        blink-caret 0.55s steps(50) infinite;
}
.img-back {
    background-repeat: no-repeat !important;
    background-position: center !important;
    background-size: contain !important;
    border-color: transparent;
    width: 120px !important;
    height: 60px;
}
.crd {
    padding: 0.8rem !important;
    padding-top: 200px;
}

@media screen and (max-width: 579px) {
    .d-sm-nones {
        display: none !important;
    }
}

@media screen and (min-width: 579px) {
    .d-sm-nones {
        display: block !important;
    }
    .d-lg-nones {
        display: none !important;
    }
}

/* The typing effect */
@keyframes typing {
    from {
        width: 0;
    }
}

/* The typewriter cursor effect */
@keyframes blink-caret {
    from,
    to {
        border-color: transparent;
    }
    30% {
        border-color: orange;
    }
}
</style>

